<!DOCTYPE html>
<html lang="en" ng-app="App">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta name="robots" content="noindex, nofollow">
		<title>FOI Adder</title>

		<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">

            
		<style>body{margin: 0 auto;max-width:1080px;}.pad{padding: 2em;}</style>

	</head>
	<body class="pad">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28/angular-sanitize.min.js"></script>
<script src="http://hartdc.github.io/js/foi.js"></script>
<div ng-app="App" ng-controller="AppCtrl" ng-init="[foi.id = data.length + 1, foi.date = now]">


<div class="pure-g">
 <div class="pure-u-2-3">

<form class="pure-form pure-form-aligned">
    <fieldset>

        <div class="pure-control-group">
            <label for="id">reference</label>
            <input type="text" id="ref" ng-model="foi.id" placeholder="add reference" class="pure-input-2-3" disabled>
        </div>
        <div class="pure-control-group">
            <label for="title">title</label>
            <input type="text" id="title" ng-model="foi.title" placeholder="add title or summary for the FOI" class="pure-input-2-3" required autofocus>
        </div>



        <div class="pure-control-group">
            <label for="req">Request</label>
            <textarea id="req" ng-model="pre.req" class="pure-input-2-3" rows="8" ng-blur="changeReq()" placeholder="add questions submitted" required></textarea>
        </div>

	  <div class="pure-control-group">
            <label for="res">Response</label>
            <textarea id="res" ng-model="pre.res" class="pure-input-2-3" rows="8" ng-blur="changeRes()" placeholder="add our response" required></textarea>
        </div>
        <div class="pure-control-group">
            <label for="date">response date</label>
            <input id="date" type="date" ng-model="foi.date" >
        </div>
	  <div class="pure-controls" ng-hide="foi.res == null">
            <button type="submit" class="pure-button pure-button-primary" ng-click="addFoi()">Add</button>
        </div>
    </fieldset>
</form>

</div>
 <div class="pure-u-1-3">
<h3>Preview</h3>


<p>{{foi.id}}</p>
<p>{{foi.title}}</p>
<p>{{foi.date | date:'dd/MM/yyyy'}}</p>
<div marked="pre.req"></div>
<hr />
<div marked="pre.res"></div>

</div>

</div>


{{data | json}}

</div>

	</body>
</html>
